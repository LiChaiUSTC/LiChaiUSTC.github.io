<html>
<head>
    <link rel="shortcut icon" type="image/png" href="./icon.png" />
    <title>CSL-L2M</title>
    <style>
        .flex-container {
            display: flex;
            flex-wrap: wrap; 
            justify-content: space-between; 
        }
        .flex-item {
            width: calc(25% - 10px); 
            padding: 10px; 
            box-sizing: border-box; 
        }
     p {
      font-size: 15pt;
    }
  pre {
    font-size: 13pt;
 }
    </style>
</head>
	
<body>
<br>
<div style="text-align: center;">
    <span style="font-size:38px"><b>CSL-L2M</b><br></span>
	<span style="font-size:28px"><b>Controllable Song-Level Lyric-to-Melody Generation based on Conditional Transformer with Fine-Grained Lyric and Musical Controls</b><br></span>
    <br>
    <table align=center width=900px>
        <tr>
            <td align=center>
                  <span style="font-size:25px">
                      <a href="https://LiChaiUSTC.github.io/">Li Chai</a>,
                      <a href="https://milab.westlake.edu.cn/">Donglin Wang</a>
                  </span>
            </td>
        </tr>
        <tr>
            <td align="center">
						  <span style="font-size:22px">
						Westlake University<br>
						  </span>
               <br>
               <span style="font-size:25px">
		       Accepted at <a href="https://aaai.org/conference/aaai/aaai-25/">AAAI 2025</a> 
	       </span>
            </td>
        </tr>
    </table>

    <table align=center width=300px>
        <tr>
            <td align=center width=100px>
                <div style="text-align: center;">
                    <span style="font-size:22px"><a href='https://arxiv.org/' target="_blank"> [arXiv]</a></span>
		    <span style="font-size:22px"><a href='https://github.com/LiChaiUSTC/CSL-L2M' target="_blank"> [Code]</a></span>
                </div>
            </td>
        <tr>
    </table>
</div>

<table align=center width=950px>
    <tr>
        <td>
            <div style="text-align: center;">
                <img class="round" width="950px" src="Demos/architecture-new.jpg"/>
            </div>
            <br>
        </td>
    </tr>
    <tr>
        <td style="font-size:15pt; text-align:justify">
            Lyric-to-melody generation is a highly challenging task in the field of AI music generation. Due to the difficulty of learning strict yet weak correlations between lyrics and melodies, previous methods have suffered from weak controllability, low-quality and poorly structured generation. To address these challenges, we propose CSL-L2M, a controllable song-level lyric-to-melody generation method based on an in-attention Transformer decoder with fine-grained lyric and musical controls, which is able to generate full-song melodies matched with the given lyrics and user-specified musical attributes. Specifically, we first introduce REMI-Aligned, a novel music representation that incorporates strict syllable- and sentence-level alignments between lyrics and melodies, facilitating precise alignment modeling. Subsequently, sentence-level semantic lyric embeddings independently extracted from a sentence-wise Transformer encoder are combined with word-level part-of-speech embeddings and syllable-level tone embeddings as fine-grained controls to enhance the controllability of lyrics over melody generation. Then we introduce human-labeled musical tags, sentence-level statistical musical attributes, and learned musical features extracted from a pre-trained VQ-VAE as coarse-grained, fine-grained and high-fidelity controls, respectively, to the generation process, thereby enabling user control over melody generation. Finally, an in-attention Transformer decoder technique is leveraged to exert fine-grained control over the full-song melody generation with the aforementioned lyric and musical conditions. Experimental results demonstrate that our proposed CSL-L2M outperforms the state-of-the-art models, generating melodies with higher quality, better controllability and enhanced structure.
        </td>
    </tr>
</table>
<br>
<hr>
	
<section>
    <header style="text-align: center;font-size: 30pt"><b>Song-Level Generation</b></header>
     <span style="font-size:15pt">The following shows high-quality and well-structured melodies generated by our CSL-L2M (trained on <a href="Demos/songs.scp">10170 Chinese pop songs</a> with time signature 4/4) conditioning on given lyrics. Here, we utilize <a href="https://singer.xiaoice.com">XStudioSinger</a> to synthesize singing voice. Note that these demos are selected with a certain degree of randomness.<br></span>


<div class="flex-container">
<div class="flex-item">
<h2>Demo 1</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Chorus&gt;
红颜一声叹 人生过半为难
风雨来作伴 日月沧桑变幻
彼岸花无岸 天涯洒落花瓣
忘了遥遥无期的尘缘
红颜一声叹 风花雪月谁伴
奈何君不见 尘世浮华三千
云水间再叹 渐逝妖娆容颜
终是红颜情断过前川

&lt;Verse&gt;
昨日梨花寒 抹泪风中流转
那千回思念是寒雾浓烟
三生三世的温柔是我今世眷恋
恍然一梦似风飘远

&lt;Chorus&gt;
红颜一声叹 人生过半为难
风雨来作伴 日月沧桑变幻
彼岸花无岸 天涯洒落花瓣
忘了遥遥无期的尘缘
红颜一声叹 风花雪月谁伴
奈何君不见 尘世浮华三千
云水间再叹 渐逝妖娆容颜
终是红颜情断过前川
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 50%;"> <source src="Demos/1melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 50%;"> <source src="Demos/1.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 2</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
踩着情绪来的表情狰狞
不死不休没一刻会安心
不达目的不肯安宁 好想安静
这一刻好想变成颗砂砾
涨潮随着海水四处而去
我逃离有你的 目的地

&lt;Insertion&gt;
没有一个温暖的拥抱
你在我的耳边只有絮叨
同样的话语说了几次 我要睡着
哪怕某一刻你微笑
答应我了别再胡闹
好好的爱自己 现在开始
    
&lt;Chorus&gt;
当石沉入海底 当褪去了潮汐
当夜色也将近 当我离开你
当下起了雨滴 当化作了泪鱼
当没有了秘密 深海和你
当我变得无情 当迷失了自己
当身边是空气 当不再爱你
当突然就过期 当狂风和暴雨
当烦躁也来临 深爱过你
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 50%;"> <source src="Demos/2melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 50%;"> <source src="Demos/2.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 3</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
我还保留着一些习惯
其实是我被你而传染
比如讨厌你的讨厌
喜欢你的喜欢格外敏感
我知道你有一个习惯
每天都会听歌在睡前
随身听里每隔三天
就要换过一批无损音源

&lt;Chorus&gt;
你说你直到现在还在听
我上一次同步给你的 那几首歌
而上一次我们还在一起呢
如今早就分开了
你说你至始至终还在听
我上一张专辑里面的几首老歌
因为其中收录了我为你写的力作
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 50%;"> <source src="Demos/3melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 50%;"> <source src="Demos/3.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 4</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
十七岁那日不要脸参加了挑战
明星也有训练班短短一年太新鲜
记得四哥发哥都已见过面
后来荣升主角太突然
廿九岁颁奖的晚宴仪式太疯癫
来听我唱段情歌一曲歌词太经典
我的震音假音早已太熟练
然而情歌总唱不厌

&lt;Chorus&gt;
喜欢我别遮脸任由途人发现
尽管唱用心把这情绪歌中染
唱情歌齐齐来一遍
无时无刻都记住掌声响遍天
来唱情歌由从头再一遍
如情浓有点泪流难避免
音阶起跌拍子改变
每首歌是每张脸
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 50%;"> <source src="Demos/4melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 50%;"> <source src="Demos/4.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
</div>

<div class="flex-container">
<div class="flex-item">
<h2>Demo 5</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
寒冬已来临 我还想着你
远方的你 多穿一件衣
我知你离开 我也是不得已
亲爱的 请你照顾好自己
想起你和我 曾经的甜蜜
现在也只能 梦里把你觅
寒冷秋风 吹进了我的心里
遗憾今生 你我不能在一起

&lt;Chorus&gt;
梦里遇见你 如此的熟悉
可是缺少了 那份甜蜜
今生不能 相偎相依
愿你我来生 永远不分离
梦里那个你 如此的帅气
好想感受到 你的气息
若不是缘分 把你我分离
或许你我现在 过得很甜蜜
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/5melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/5.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 6</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
长路迢迢 思君在远方
白驹驰骋 星辰浩荡
心郁伤
浮云悠悠 归鸟辞远乡
上下求索 舒我衷肠
不回望
    
&lt;Chorus&gt;
思美人兮心若香
思美人兮月苍凉
我犹香草何来美人赏
古人不及徒留一抹香
思美人兮心自香
思美人兮梦芬芳
世人皆醉平生随沧浪
鸿飞御我九天任高翔
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/6melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/6.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 7</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
情人锁 的承诺 锁在桥头情似火
情人锁 深藏眷恋为你我
情人锁 手中握 锁住你我的寂寞
情人锁 梨花飞舞伴君落
情人锁 锁不住 你那当初的承诺
情人锁 锁仍在 人已走
情人锁 敌不过 岁月变迁人心落
情人锁 一念花开一念落

&lt;Chorus&gt;
我曾红尘度寂寞
无奈坠入红尘河
原来你只是我的过客
一寸相思一寸痛
泪别青山弃承诺
花开花落不变的是锁
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/7melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/7.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 8</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
云里去风里来
带着一身的尘埃
心也伤情也冷泪也干
悲也好喜也好
命运有谁能知道
梦一场是非恩怨
随风飘

&lt;Chorus&gt;
看过冷漠的眼神
爱过一生无缘的人
才知世间人情永远不必问
热血在心中沸腾
却把岁月刻下伤痕
回首天已黄昏有谁在乎我
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/8melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/8.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
</div>

<div class="flex-container">
<div class="flex-item">
<h2>Demo 9</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
走遍千山和万水
只为把美梦去追
夜里无人相依偎
感受这城市的黑
管它什么是与非
爱自己的人最美
明天有你在跟随
天塌下来无所谓

&lt;Chorus&gt;
我一直追追拼命追
闪耀这生命的光辉
五湖四海朋友们
在此刻来相会
我一直追追拼命追
像月下绽放的花蕊
只相信努力最难能可贵
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/9melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/9.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 10</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
说好恩爱到地老天荒
等你三年不知去向
一直把你放在心上
想你难眠直到天亮
人心怎能一伤再伤
感情怎可一凉再凉
情深缘浅难守身旁
哭着走到奈何桥上
    
&lt;Chorus&gt;
请送我一碗孟婆汤
喝下不再痛断肝肠
忘了我是你的新娘
忘了度过恩爱的时光
请送我一碗孟婆汤
不再贪恋红尘万丈
不受人间的情成殇
你我化蝶梁祝齐飞翔
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/10melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/10.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 11</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
星星在发光 风推云波浪
在我心上种下愿望
月儿在飘荡 梦就是船桨
在我心上扬帆起航

&lt;Insertion&gt;
世界之大会有回响 我要为你歌唱
微笑就是爱的模样 温暖的快乐的绽放

&lt;Chorus&gt;
我们我们 在自由的生长
阳光在天空画彩虹糖 大大的能量
我们我们 要一起去远航
用时光的翅膀去飞翔 梦就在前方
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/11melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/11.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 12</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
记忆里点点滴滴的快乐
遮住我心伤痛的斑驳
相爱时美好的词汇太多
艰难的适应没有你的生活
我拒绝退场又重蹈覆辙
那么多却没兑现承诺
只剩我独自含泪去漂泊
放手就是我无法选择的选择

&lt;Chorus&gt;
余生没有了你时光如刀割
熟悉的街道灯光在闪烁
浅浅的牵挂你是否快乐
经历着泣不成声的折磨
余生没有了你时光如刀割
一个人看着花开又花落
一个人守着月缺的寂寞
孤独的灵魂心无所依又如何
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/12melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/12.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
</div>

<div class="flex-container">
<div class="flex-item">
<h2>Demo 13</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
我把我的矫情先提前结束
我没资格柔弱这点我清楚
太独立自主容易被不在乎
有多少次被关注
锁不住的心始终是会逃出
进不去的心努力也是废物
不爱了的样子很残酷
好像没有什么错误
她穿着和我一样的衣服
耳环像之前送我的礼物
我的爱很坚固 何时成第三者地步

&lt;Chorus&gt;
你好像 没有做错是我应该主动退出
到最后是我挡住了你寻找幸福的路
我一直招你嫌弃的付出
在你面前终究还是添堵
你没错 是我把感情引进了分手的路
让我明白真心也得看清对方的面目
留不住的那些
会永远一点不让它拦阻
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/13melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/13.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 14</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
走在这座不属于我的城市里 
来来往往陌生的人又觉熟悉
谁又真的在乎谁的心绪
到头来我只认识了我自己
时光匆匆溜走 无处安放的自由
有多少人像我一样 不让眼泪留
    
&lt;Chorus&gt;
只是想有个人来牵挂
只是想有个人说说话
只是想有个人说别怕有我呢
只想有个人等我回家
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/14melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/14.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 15</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
春风暖暖吹过来
好似你呀贴心怀
桃花桃花满山开
朵朵都是我的爱
蝴蝶翩翩把花采
你就是我三世的爱
等你一载又一载
只等你呀把花儿摘

&lt;Chorus&gt;
水绕着山山恋着水
山水相恋无怨无悔
花恋着蝶蝶吻花蕊
花蝶之恋痴情绝对
水映着山山衬着水
山水永远相依相偎
花只为蝶绽放妩媚
花蝶之恋红尘至美
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/15melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/15.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 16</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
我周末放假
你这个傻瓜
有没有空 陪我走走呀
其实也害怕 说出口的话
并不是我想听的话
或许一见你我就露出了笑颜
我此刻也在等你把手牵
品尝着你情话微甜
约定这午后阳光盛开的公园
暖暖空气中你的左肩
幸福温暖的感觉耶

&lt;Chorus&gt;
我在等你也说爱我
话到嘴边经过
你害羞 脸像个苹果嚯喔
恋上你的温柔
想对你轻声说
能不能不要再沉默
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/16melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/16.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
</div>


<div class="flex-container">
<div class="flex-item">
<h2>Demo 17</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
我们之间还有什么诺言
被伤害的那一天
我该拿什么换回你我的从前伊耶伊耶伊耶
我们之间已没有了永远
从分开的那一天
该如何忘记忘记所有的誓言

&lt;Insertion&gt;
不在她身边还有什么发言
不明白的誓言经以终结
你说我不在乎但我却为你哭


&lt;Chorus&gt;
就让这回忆慢慢消失不见
过去的往事如云烟
被终结的画面在爱里搁浅
只留下眼泪在缠绵
就让这回忆停在你我身边
描述这一切到永远
被遗忘的诺言我已看不见
让我待续下一个永远永远
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/17melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/17.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 18</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
憧憬原来已经长出芽
拼了命的眼泪没说话
这么多年都已过去啦
我的努力一直有办法
梦想如何开出一朵花
在这世上美丽不喧哗
当初不惜一切捍卫它
原来它一直等我长大

&lt;Insertion&gt;
等我双膝跪下 耐心观察
渺小的伟大唱吧
    
&lt;Chorus&gt;
原来风吹雨打都是一句话
提醒我自信不该放大
就算输给命运和害怕
梦都会长大
原来海角天涯都是一幅画
让我看见我怎么挣扎
逼到悬崖开出一朵花
梦想陪我长大
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/18melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/18.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 19</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Chorus&gt;
任往昔的记忆不停的倒带 
伤感如潮水涌上来 
在街角独自发呆落寞徘徊 
头顶乌云密布飘满了阴霾
看纷飞的落叶凄美了等待 
一片片凋零在心海
风吹过那年那天那句对白 
眼中色彩突然被掩盖
&lt;Verse&gt;
那一天哭红双眼求着你别离开
那一刻终于明白故事再回不来
那一次你的转身埋葬我的爱
一点一点累计着伤害
每一天都在等你填补我空白
我又该如何抗拒命运的安排
每一次梦中醒来满满的无奈
很可惜最后你选择了离开
&lt;Chorus&gt;
任往昔的记忆不停的倒带 
伤感如潮水涌上来
在街角独自发呆落寞徘徊 
头顶乌云密布飘满了阴霾
看纷飞的落叶凄美了等待 
一片片凋零在心海
风吹过那年那天那句对白 
眼中色彩突然被掩盖
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/23melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/23.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 20</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
我在做一个很美的梦 不要来叫醒我 
呜呼呜呼呜呼呜呼呼呼
我在做一个很美的梦 不要来叫醒我
呜呼呜呼呜呼呜呼呼呼
我有一台时空放映机
通过它能看见我自己
嗯嗯嗯嗯
女孩长发体恤
人群中没有吸引力
她依靠紧握却失去
付出伤心被忘记
一个人整理情绪

&lt;Chorus&gt;
她没放她没放弃
她没放她没放弃
她没放她没放弃
她没放她没放弃
每当夜幕降临
她打开时光放映机
看着自己很熟悉
渐渐睡去 喻喻喻
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/20melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/20.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
</div>


<div class="flex-container">
<div class="flex-item">
<h2>Demo 21</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
一个人的夜晚 我选择了孤单 隔着窗看灯火阑珊 
一个人的夜晚 我梦见了海岸 醒来时模糊的看不见
一个人的夜晚 会不会被看穿 看穿我的狼狈不堪
一个人的夜晚 平凡的很平凡 天亮了还是漏出笑脸

&lt;Chorus&gt;
越努力一点越幸运一些 没有什么能让你难堪  
想哭的时候抱抱双肩 原来你真的可以特别勇敢
再自信一点就会有温柔眷恋 就算迟到也不算太晚 
所有难过都只是客串 我的人生自己说的才算
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/21melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/21.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
    
<div class="flex-item">
<h2>Demo 22</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
在冷战后开始沉思 这份爱还值不值得努力 去维持
你偶尔有点小自私 我偶尔有点小固执
但世上哪两个人 能百分百的合适
你拥抱我深情表示 闹情绪是浪费生命的事 要停止
爱应该像座许愿池 可以让梦想变真实 
每一次互相体谅 都会是幸福种子

&lt;Chorus&gt;
你的手是最暖的围巾 呵护我度过最冷的情绪
我的眼是最亮的晨星 当你陷入了困境就会温柔指引
爱是最暖的围巾 让心灵更柔软也更美丽 
当我们不知不觉放下自己 相爱多轻松甜蜜
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/22melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/22.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
<div class="flex-item">
<h2>Demo 23</h2>
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
今天是什么天气 为什么比平常更压抑
我又想起了你 想靠近你
靠近你耳朵讲一些甜蜜的耳语
我又忘记今天是星期几 可我却没有忘记
在我的世界里 涂彩虹的颜料里 浪漫它永远不会停息

&lt;Insertion&gt;
对不起 我不是故意 我也不玩那些游戏
我只想 每天可以和你黏在一起

&lt;Chorus&gt;
我想做一只懒懒懒懒懒懒的猫咪
可以随心所欲被你拥抱在怀里
侧耳倾听你温柔音律
笑容突然很洋溢 躺在你的怀里
</pre>
<p><strong>Melody :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/19melody.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
<p><strong>Singing :</strong> <audio controls="" style="width: 30%;"> <source src="Demos/19.mp3" type="audio/mpeg" /> Your browser does not support the audio element.</audio></p>
</div>
    
</div>

</section>
<br>


<hr>
<section>
    <header style="text-align: center;font-size: 30pt"><b>Controllable Generation</b></header>
   <span style="font-size:15pt">The following shows strong, high-fidelity and independent controllability of our CSL-L2M.<br></span>

<h2>Controllable Attributes</h2>
<p>Statistical Musical Attributes:</p>
<ul>
  <li><strong>Pitch Mean (PM)</strong>: The average pitch level.</li>
  <li><strong>Pitch Variance (PV)</strong>: The standard deviation of the note pitches.</li>
  <li><strong>Pitch Range (PR)</strong>: The vocal range of the melody.</li>
  <li><strong>Direction of Melodic Motion (DMM)</strong>: The fraction of melodic intervals that are rising in pitch.</li>
  <li><strong>Amount of Arpeggiation (AA)</strong>: The fraction of melodic intervals that are repeated notes, minor thirds, major thirds, perfect fifths, minor sevenths, major sevenths, octaves, minor tenths, or major tenths. This is only a very approximate measure of the amount of arpeggiation in the music.</li>
  <li><strong>Chromatic Motion (CM)</strong>: The fraction of melodic intervals that correspond to a semitone.</li>
  <li><strong>Duration Mean (DM)</strong>: The average duration of notes.</li>
  <li><strong>Duration Variance (DV)</strong>: The standard deviation of the note durations.</li>
  <li><strong>Duration Range (DR)</strong>: The duraion range of the melody, indicating the degree of rhythm changes in melody.</li>
  <li><strong>Prevalence of Most Common Duration (MCD)</strong>: The fraction of all notes that have a duration corresponding to the most common note duration. The most common duration is the 8th note in our dataset.</li>
  <li><strong>Note Density (ND)</strong>: The average number of notes per second.</li>
  <li><strong>Lyric-to-Note Fraction (Align)</strong>: The fraction of the number of syllables in lyrics to the number of notes in the corresponding melodies. The smaller the Align, the more one-to-many alignments there are, and vice versa.</li>
</ul>

<section id="section1">
<h2>Demo1</h2>

<table>
  <thead>
    <tr>
      <th>• Original</th>
      <th><audio controls=""><source src="Demos/ori_melody.mp3" type="audio/mpeg" /></audio></th>
    <th><audio controls=""><source src="Demos/ori.mp3" type="audio/mpeg" /></audio></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>• <strong>Increasing Align</strong></td>
      <td><audio controls=""><source src="Demos/align+_melody.mp3" type="audio/mpeg" /></audio></td>
      <td><audio controls=""><source src="Demos/align+.mp3" type="audio/mpeg" /></audio></td>
    </tr>
    <tr>
      <td>• <strong>Reducing Align</strong></td>
      <td><audio controls=""><source src="Demos/align-_melody.mp3" type="audio/mpeg" /></audio></td>
      <td><audio controls=""><source src="Demos/align-.mp3" type="audio/mpeg" /></audio></td>
    </tr>
    <tr>
      <td>• <strong>Increasing PM</strong></td>
      <td><audio controls=""><source src="Demos/PM+_melody.mp3" type="audio/mpeg" /></audio></td>
      <td><audio controls=""><source src="Demos/PM+.mp3" type="audio/mpeg" /></audio></td>
    </tr>
    <tr>
      <td>• <strong>Reducing PM</strong></td>
      <td><audio controls=""><source src="Demos/PM-_melody.mp3" type="audio/mpeg" /></audio></td>
      <td><audio controls=""><source src="Demos/PM-.mp3" type="audio/mpeg" /></audio></td>
    </tr>
    <tr>
      <td>• <strong>Increasing DM, DV, DR and reducing ND</strong></td>
      <td><audio controls=""><source src="Demos/DM+DV+DR+ND-_melody.mp3" type="audio/mpeg" /></audio></td>
      <td><audio controls=""><source src="Demos/DM+DV+DR+ND-.mp3" type="audio/mpeg" /></audio></td>
    </tr>
    <tr>
      <td>• <strong>Reducing DM, DV, DR and increasing ND</strong></td>
      <td><audio controls=""><source src="Demos/DM-DV-DR-ND+_melody.mp3" type="audio/mpeg" /></audio></td>
      <td><audio controls=""><source src="Demos/DM-DV-DR-ND+.mp3" type="audio/mpeg" /></audio></td>
    </tr>
    <tr>
      <td>• <strong>Increasing PV, PR</strong></td>
      <td><audio controls=""><source src="Demos/PV+PR+_melody.mp3" type="audio/mpeg" /></audio></td>
      <td><audio controls=""><source src="Demos/PV+PR+.mp3" type="audio/mpeg" /></audio></td>
    </tr>
    <tr>
      <td>• <strong>Reducing PV, PR</strong></td>
      <td><audio controls=""><source src="Demos/PR-PR-_melody.mp3" type="audio/mpeg" /></audio></td>
      <td><audio controls=""><source src="Demos/PR-PR-.mp3" type="audio/mpeg" /></audio></td>
    </tr>
     <tr>
      <td>• <strong>Increasing MCD</strong></td>
      <td><audio controls=""><source src="Demos/MCD+_melody.mp3" type="audio/mpeg" /></audio></td>
      <td><audio controls=""><source src="Demos/MCD+.mp3" type="audio/mpeg" /></audio></td>
    </tr>
    <tr>
      <td>• <strong>Reducing MCD</strong></td>
      <td><audio controls=""><source src="Demos/MCD-_melody.mp3" type="audio/mpeg" /></audio></td>
      <td><audio controls=""><source src="Demos/MCD-.mp3" type="audio/mpeg" /></audio></td>
    </tr>     
  </tbody>
</table>
</section>
    
<section id="section2">
<h2>Demo2</h2>
    
<p><strong>Given lyrics:</strong></p>
<pre>
&lt;Verse&gt;
秋心一季愁莫如秋叶随风流
爱与恨方休明月人独倚高楼
天凉好个秋八字倒贴在眉头
也罢凡事一壶酒 且醉且将逍遥游

&lt;Chorus&gt;
江湖梦幽幽不如来饮酒
千槲万斗不伤头再饮一杯否
爱恨悠悠醉不休不如来饮酒
点点愁醉醒岂在一宿
</pre>

<p><strong>Note:</strong>
The following melody serves as the ground truth, corresponding to the song melody that matches the given lyrics in our test data.
For each generation, we provide three generated melodies that correspond to the given lyrics and specified musical attributes.
We utilize <a href="https://cifkao.github.io/html-midi-player/">html-midi-player</a> to play and display the midi files.
</p>

<midi-visualizer
type="piano-roll">
</midi-visualizer>   
<midi-visualizer
type="staff">
</midi-visualizer> 
    
<p><strong>Ground truth :</strong> <midi-player src="Demos/ctrl2_ori.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_ori.mp3" type="audio/mpeg" /></audio>
</p>
    
<p><strong>Original 1 :</strong> <midi-player src="Demos/ctrl2_1.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_1.mp3" type="audio/mpeg" /></audio>
</p>
<p><strong>Original 2 :</strong> <midi-player src="Demos/ctrl2_2.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_2.mp3" type="audio/mpeg" /></audio>
</p>
<p><strong>Original 3 :</strong> <midi-player src="Demos/ctrl2_3.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_3.mp3" type="audio/mpeg" /></audio>
</p>    

<p><strong>Reducing Align 1 :</strong> <midi-player src="Demos/ctrl2_-align_1.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_-align_1.mp3" type="audio/mpeg" /></audio>
</p>   
<p><strong>Reducing Align 2 :</strong> <midi-player src="Demos/ctrl2_-align_2.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_-align_2.mp3" type="audio/mpeg" /></audio>
</p>   
<p><strong>Reducing Align 3 :</strong> <midi-player src="Demos/ctrl2_-align_3.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_-align_3.mp3" type="audio/mpeg" /></audio>
</p>   

<p><strong>Increasing PM 1 :</strong> <midi-player src="Demos/ctrl2_+PM_1.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_+PM_1.mp3" type="audio/mpeg" /></audio>
</p> 
<p><strong>Increasing PM 2 :</strong> <midi-player src="Demos/ctrl2_+PM_2.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_+PM_2.mp3" type="audio/mpeg" /></audio>
</p>     
<p><strong>Increasing PM 3 :</strong> <midi-player src="Demos/ctrl2_+PM_3.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_+PM_3.mp3" type="audio/mpeg" /></audio>
</p> 

<p><strong>Reducing PM 1 :</strong> <midi-player src="Demos/ctrl2_-PM_1.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_-PM_1.mp3" type="audio/mpeg" /></audio>
</p> 
<p><strong>Reducing PM 2 :</strong> <midi-player src="Demos/ctrl2_-PM_2.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_-PM_2.mp3" type="audio/mpeg" /></audio>
</p> 
<p><strong>Reducing PM 3 :</strong> <midi-player src="Demos/ctrl2_-PM_3.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_-PM_3.mp3" type="audio/mpeg" /></audio>
</p> 

<p><strong>Increasing PV, PR 1 :</strong> <midi-player src="Demos/ctr2_PR+10PV+10_1.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctr2_PR+10PV+10_1.mp3" type="audio/mpeg" /></audio>
</p> 
<p><strong>Increasing PV, PR 2 :</strong> <midi-player src="Demos/ctr2_PR+10PV+10_2.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctr2_PR+10PV+10_2.mp3" type="audio/mpeg" /></audio>
</p> 
<p><strong>Increasing PV, PR 3 :</strong> <midi-player src="Demos/ctr2_PR+10PV+10_3.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctr2_PR+10PV+10_3.mp3" type="audio/mpeg" /></audio>
</p> 

<p><strong>Reducing PV, PR 1 :</strong> <midi-player src="Demos/ctr2_PR-10PV-10_1.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctr2_PR-10PV-10_1.mp3" type="audio/mpeg" /></audio>
</p> 
<p><strong>Reducing PV, PR 2 :</strong> <midi-player src="Demos/ctr2_PR-10PV-10_2.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctr2_PR-10PV-10_2.mp3" type="audio/mpeg" /></audio>
</p> 
<p><strong>Reducing PV, PR 3 :</strong> <midi-player src="Demos/ctr2_PR-10PV-10_3.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctr2_PR-10PV-10_3.mp3" type="audio/mpeg" /></audio>
</p> 

<p><strong>Increasing DM, DV, DR and reducing ND 1 :</strong> <midi-player src="Demos/ctrl2_DM+10DV+10DR+10ND-10_1.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_DM+10DV+10DR+10ND-10_1.mp3" type="audio/mpeg" /></audio>
</p> 
<p><strong>Increasing DM, DV, DR and reducing ND 2 :</strong> <midi-player src="Demos/ctrl2_DM+10DV+10DR+10ND-10_2.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_DM+10DV+10DR+10ND-10_2.mp3" type="audio/mpeg" /></audio>
</p> 
<p><strong>Increasing DM, DV, DR and reducing ND 3 :</strong> <midi-player src="Demos/ctrl2_DM+10DV+10DR+10ND-10_3.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_DM+10DV+10DR+10ND-10_3.mp3" type="audio/mpeg" /></audio>
</p> 

<p><strong>Reducing MCD 1 :</strong> <midi-player src="Demos/ctrl2_MCD-10_1.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_MCD-10_1.mp3" type="audio/mpeg" /></audio>
</p> 
<p><strong>Reducing MCD 2 :</strong> <midi-player src="Demos/ctrl2_MCD-10_2.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_MCD-10_2.mp3" type="audio/mpeg" /></audio>
</p> 
<p><strong>Reducing MCD 3 :</strong> <midi-player src="Demos/ctrl2_MCD-10_3.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_MCD-10_3.mp3" type="audio/mpeg" /></audio>
</p> 

<p><strong>Increasing DMM 1 :</strong> <midi-player src="Demos/ctrl2_DMM+25_1.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_DMM+25_1.mp3" type="audio/mpeg" /></audio>
</p> 
<p><strong>Increasing DMM 2 :</strong> <midi-player src="Demos/ctrl2_DMM+25_2.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_DMM+25_2.mp3" type="audio/mpeg" /></audio>
</p> 
<p><strong>Increasing DMM 3 :</strong> <midi-player src="Demos/ctrl2_DMM+25_3.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_DMM+25_3.mp3" type="audio/mpeg" /></audio>
</p> 

<p><strong>Increasing CM 1 :</strong> <midi-player src="Demos/ctrl2_CM+20_1.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_CM+20_1.mp3" type="audio/mpeg" /></audio>
</p> 
<p><strong>Increasing CM 2 :</strong> <midi-player src="Demos/ctrl2_CM+20_2.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_CM+20_2.mp3" type="audio/mpeg" /></audio>
</p> 
<p><strong>Increasing CM 3 :</strong> <midi-player src="Demos/ctrl2_CM+20_3.mid" sound-font visualizer="#section2 midi-visualizer"> </midi-player>
<audio controls=""><source src="Demos/ctrl2_CM+20_3.mp3" type="audio/mpeg" /></audio>
</p> 
    
    
</section>
    
</body>
</html>
<script src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.23.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.5.0"></script>
